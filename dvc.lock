schema: '2.0'
stages:
  train:
    cmd: "python src/step_counter/models/logistic_regression/train.py data/steps/train/
      models/logistic_regression.joblib reports/metrics/train.json --seed=42\n"
    deps:
    - path: data/steps/train/
      hash: md5
      md5: 137744f44fec19f884dd6eced9225b0a.dir
      size: 438586
      nfiles: 8
    params:
      params.yaml:
        seed: 42
    outs:
    - path: models/logistic_regression.html
      hash: md5
      md5: 8ecbcf40c01cf49faa0f69c0d59f4a9d
      size: 11680
    - path: models/logistic_regression.joblib
      hash: md5
      md5: 37fb20da4ea546d725723ee68a03ec75
      size: 3710
    - path: models/logistic_regression.json
      hash: md5
      md5: bc2b9f38268dcf38d88ffe040460065f
      size: 33
    - path: reports/metrics/train.json
      hash: md5
      md5: d6e56855d071221bdb497743b2f311f6
      size: 310
  predict_test:
    cmd: "python src/step_counter/models/logistic_regression/predict.py data/steps/test/
      models/logistic_regression.joblib reports/predictions/steps/test/\n"
    deps:
    - path: data/steps/test/
      hash: md5
      md5: 74bf42681c55e319ec6fb42c98ea9f74.dir
      size: 88024
      nfiles: 2
    - path: models/logistic_regression.joblib
      hash: md5
      md5: 37fb20da4ea546d725723ee68a03ec75
      size: 3710
    outs:
    - path: reports/predictions/steps/test/
      hash: md5
      md5: 0a3337acb133d278fd3854782c172fa0.dir
      size: 118674
      nfiles: 2
  update-metrics:
    cmd: python update-metrics-table-and-graph.py
    deps:
    - path: reports
      hash: md5
      md5: e6ef031787ee9c5055d1aec8a46040fa.dir
      size: 247049
      nfiles: 10
    - path: update-metrics-table-and-graph.py
      hash: md5
      md5: 3f0edb1fc9ee7c161c5f0e8a58cfbbb7
      size: 1344
  evaluate:
    cmd: "python src/step_counter/evaluate.py data/steps/test/ reports/predictions/steps/test/
      reports/figures/ reports/metrics/\n"
    deps:
    - path: data/steps/test/
      hash: md5
      md5: 74bf42681c55e319ec6fb42c98ea9f74.dir
      size: 88024
      nfiles: 2
    - path: reports/predictions/steps/test/
      hash: md5
      md5: 0a3337acb133d278fd3854782c172fa0.dir
      size: 118674
      nfiles: 2
    outs:
    - path: reports/figures/confusion_matrix.csv
      hash: md5
      md5: d4da37ece1e8cd11366c976c7ef78a28
      size: 23982
    - path: reports/figures/precision_recall_curve.csv
      hash: md5
      md5: 88dc3ced0b64bdbd6431a65d6dd05f28
      size: 89037
    - path: reports/figures/roc_curve.csv
      hash: md5
      md5: 4f7ffca06dd90c842bd42c20ec33112d
      size: 14684
    - path: reports/metrics/test.json
      hash: md5
      md5: 9a430ab8dd9a0b10d67bbc9d1b11567f
      size: 268
