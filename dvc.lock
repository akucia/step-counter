schema: '2.0'
stages:
  train:
    cmd: "python src/step_counter/models/dnn_keras/train.py data/steps/train/ models/dnn
      reports/metrics/train.json --seed=42\n"
    deps:
    - path: data/steps/train/
      hash: md5
      md5: 137744f44fec19f884dd6eced9225b0a.dir
      size: 438586
      nfiles: 8
    params:
      params.yaml:
        seed: 42
    outs:
    - path: models/dnn
      hash: md5
      md5: e0c2090747127ca13e3ac226a46ccb42.dir
      size: 479389
      nfiles: 5
    - path: models/dnn.png
      hash: md5
      md5: 38f18146af296d43fdd1d964df8bf3ab
      size: 114693
    - path: reports/metrics/train.json
      hash: md5
      md5: 118d2756b370ecac34fa19ea66ecc61c
      size: 414
  predict_test:
    cmd: "python src/step_counter/models/dnn_keras/predict.py data/steps/test/ models/dnn
      reports/predictions/steps/test/\n"
    deps:
    - path: data/steps/test/
      hash: md5
      md5: 74bf42681c55e319ec6fb42c98ea9f74.dir
      size: 88024
      nfiles: 2
    - path: models/dnn
      hash: md5
      md5: e0c2090747127ca13e3ac226a46ccb42.dir
      size: 479389
      nfiles: 5
    outs:
    - path: reports/predictions/steps/test/
      hash: md5
      md5: e575e3804d1651dab2199a7bd4b3da03.dir
      size: 118939
      nfiles: 2
  update-metrics:
    cmd: python update-metrics-table-and-graph.py
    deps:
    - path: reports
      hash: md5
      md5: e429d18ec3be8f6be3023bd7db609763.dir
      size: 242719
      nfiles: 10
    - path: update-metrics-table-and-graph.py
      hash: md5
      md5: 3f0edb1fc9ee7c161c5f0e8a58cfbbb7
      size: 1344
  evaluate:
    cmd: "python src/step_counter/evaluate.py data/steps/test/ reports/predictions/steps/test/
      reports/figures/ reports/metrics/\n"
    deps:
    - path: data/steps/test/
      hash: md5
      md5: 74bf42681c55e319ec6fb42c98ea9f74.dir
      size: 88024
      nfiles: 2
    - path: reports/predictions/steps/test/
      hash: md5
      md5: e575e3804d1651dab2199a7bd4b3da03.dir
      size: 118939
      nfiles: 2
    outs:
    - path: reports/figures/confusion_matrix.csv
      hash: md5
      md5: 963baece7e3d24541f153a02b8b8a250
      size: 24165
    - path: reports/figures/precision_recall_curve.csv
      hash: md5
      md5: caeb8d89f7800003953840d369f539c6
      size: 87565
    - path: reports/figures/roc_curve.csv
      hash: md5
      md5: de6069850f1c7caf9442adb41fb254ef
      size: 11274
    - path: reports/metrics/test.json
      hash: md5
      md5: 78ee3fa72581de82e631fb67edd2cfce
      size: 268
