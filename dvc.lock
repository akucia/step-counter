schema: '2.0'
stages:
  train:
    cmd: "python src/step_counter/models/dnn_keras/train.py data/steps/train/ models/dnn
      reports/metrics/train.json --seed=42\n"
    deps:
    - path: data/steps/train/
      hash: md5
      md5: 137744f44fec19f884dd6eced9225b0a.dir
      size: 438586
      nfiles: 8
    params:
      params.yaml:
        seed: 42
    outs:
    - path: models/dnn
      hash: md5
      md5: 9ca1fe71ac058fbfd4357ff9fc6411de.dir
      size: 391756
      nfiles: 5
    - path: models/dnn.json
      hash: md5
      md5: 03e3565e70c5369b0d7d4d022f06b80c
      size: 48
    - path: models/dnn.png
      hash: md5
      md5: 6d579c20083715d46ed8dda958af2656
      size: 229641
    - path: reports/metrics/train.json
      hash: md5
      md5: 9d1394120c4dc1c084dda91ac34e3adf
      size: 415
  predict_test:
    cmd: "python src/step_counter/models/dnn_keras/predict.py data/steps/test/ models/dnn
      reports/predictions/steps/test/\n"
    deps:
    - path: data/steps/test/
      hash: md5
      md5: 74bf42681c55e319ec6fb42c98ea9f74.dir
      size: 88024
      nfiles: 2
    - path: models/dnn
      hash: md5
      md5: 9ca1fe71ac058fbfd4357ff9fc6411de.dir
      size: 391756
      nfiles: 5
    outs:
    - path: reports/predictions/steps/test/
      hash: md5
      md5: d2225dbd783e2f66c116f65aafa9cea0.dir
      size: 118916
      nfiles: 2
  update-metrics:
    cmd: python update-metrics-table-and-graph.py
    deps:
    - path: reports
      hash: md5
      md5: b796643eb501782fcdae50db70dde3fc.dir
      size: 240628
      nfiles: 10
    - path: update-metrics-table-and-graph.py
      hash: md5
      md5: 3f0edb1fc9ee7c161c5f0e8a58cfbbb7
      size: 1344
  evaluate:
    cmd: "python src/step_counter/evaluate.py data/steps/test/ reports/predictions/steps/test/
      reports/figures/ reports/metrics/\n"
    deps:
    - path: data/steps/test/
      hash: md5
      md5: 74bf42681c55e319ec6fb42c98ea9f74.dir
      size: 88024
      nfiles: 2
    - path: reports/predictions/steps/test/
      hash: md5
      md5: d2225dbd783e2f66c116f65aafa9cea0.dir
      size: 118916
      nfiles: 2
    outs:
    - path: reports/figures/confusion_matrix.csv
      hash: md5
      md5: c44e0f3c165eadae779c6af27ef3bb36
      size: 24168
    - path: reports/figures/precision_recall_curve.csv
      hash: md5
      md5: 03d18d8c64bd88b67696381cddb9c781
      size: 85658
    - path: reports/figures/roc_curve.csv
      hash: md5
      md5: 875b2e8ca8bf3ecd1c8a63a4257538a6
      size: 11109
    - path: reports/metrics/test.json
      hash: md5
      md5: 16c24277a49b6732b962366299dcf1c9
      size: 268
